<div class="component-renderer">
  @if (currentConfig(); as config) {
    <!-- Header -->
    <div class="component-renderer__header">
      <div class="flex items-center justify-between">
        <div class="component-renderer__title-section">
          <h2 class="component-renderer__title text-neutral-900 dark:text-neutral-50">{{ config.name }}</h2>
          <span class="component-renderer__category">{{ config.category }}</span>
        </div>

        <button
          (click)="themeService.toggleTheme()"
          class="flex h-10 w-10 items-center justify-center rounded-lg border border-neutral-200 bg-white text-neutral-600 transition-all hover:bg-neutral-50 active:scale-95 dark:border-neutral-800 dark:bg-neutral-900 dark:text-neutral-400 dark:hover:bg-neutral-800"
          [title]="themeService.theme() === 'light' ? 'Switch to Dark Mode' : 'Switch to Light Mode'"
        >
          @if (themeService.theme() === 'light') {
            <nui-icon name="Moon" [size]="Size.Large" />
          } @else {
            <nui-icon name="Sun" [size]="Size.Large" />
          }
        </button>
      </div>
      <p class="component-renderer__description text-neutral-600 dark:text-neutral-400">{{ config.description }}</p>
    </div>

    <!-- Viewport -->
    <div class="component-renderer__viewport">
      <div class="component-renderer__viewport-inner">
        <ng-container #dynamicComponent />
      </div>
    </div>
  } @else {
    <!-- Empty State -->
    <div class="component-renderer__empty">
      <p class="component-renderer__empty-text">Select a component from the menu to preview</p>
    </div>
  }
</div>
