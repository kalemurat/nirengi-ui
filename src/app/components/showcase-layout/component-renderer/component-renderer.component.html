<div class="component-renderer">
  @if (currentConfig(); as config) {
    <!-- Header -->
    <div class="component-renderer__header">
      <div class="flex items-center justify-between">
        <div class="component-renderer__title-section">
          <h2 class="component-renderer__title text-neutral-900 dark:text-neutral-50">{{ config.name }}</h2>
          <span class="component-renderer__category">{{ config.category }}</span>
        </div>

        <button
          (click)="themeService.toggleTheme()"
          class="component-renderer__theme-toggle"
          [title]="themeService.theme() === 'light' ? 'Switch to Dark Mode' : 'Switch to Light Mode'"
        >
          @if (themeService.theme() === 'light') {
            <nui-icon name="Moon" [size]="Size.Large" />
          } @else {
            <nui-icon name="Sun" [size]="Size.Large" />
          }
        </button>
      </div>
      <p class="component-renderer__description text-neutral-600 dark:text-neutral-400">{{ config.description }}</p>
    </div>

    <!-- Viewport -->
    <div class="component-renderer__viewport">
      <div class="component-renderer__viewport-inner">
        <ng-container #dynamicComponent />
      </div>
    </div>
  } @else {
    <!-- Empty State -->
    <div class="component-renderer__empty">
      <p class="component-renderer__empty-text">Select a component from the menu to preview</p>
    </div>
  }
</div>
