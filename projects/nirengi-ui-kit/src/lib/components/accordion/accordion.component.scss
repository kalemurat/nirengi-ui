.nui-accordion {
  @apply w-full overflow-hidden rounded-lg border bg-primary;

  // Status Colors (Border & Header Background)
  &--default {
    @apply border-default;
  }

  &--primary {
    @apply border-primary-200 dark:border-primary-800;
  }

  &--success {
    @apply border-success-200 dark:border-success-800;
  }

  &--warning {
    @apply border-warning-200 dark:border-warning-800;
  }

  &--danger {
    @apply border-danger-200 dark:border-danger-800;
  }

  &--info {
    @apply border-info-200 dark:border-info-800;
  }

  &--disabled {
    @apply pointer-events-none cursor-not-allowed bg-tertiary opacity-60;
  }

  // Header
  &__header {
    @apply relative z-10 flex w-full cursor-pointer items-center justify-between bg-transparent px-4 py-3 text-left transition-colors hover:bg-tertiary;

    // Size Adjustments
    .nui-accordion--sm & {
      @apply px-3 py-2 text-sm;
    }

    .nui-accordion--lg & {
      @apply px-6 py-4 text-lg;
    }

    // Focus visible for accessibility
    &:focus-visible {
      @apply outline-none ring-2 ring-primary-500 ring-offset-1;
    }
  }

  // Title Container
  &__title {
    @apply mr-4 flex-1 font-medium text-primary;

    .nui-accordion--sm & {
      @apply text-sm;
    }

    .nui-accordion--lg & {
      @apply text-lg;
    }
  }

  // Icon
  &__icon {
    @apply text-secondary transition-transform duration-300;

    &--rotated {
      @apply rotate-180;
    }
  }

  // Collapse Container (CSS Grid Animation)
  &__collapse {
    @apply grid transition-[grid-template-rows] duration-300 ease-in-out;
    grid-template-rows: 0fr;

    &--expanded {
      grid-template-rows: 1fr;
    }
  }

  // Wrapper for overflow hidden
  &__wrapper {
    @apply overflow-hidden;
  }

  // Content
  &__content {
    @apply border-t bg-primary px-4 py-4 leading-relaxed text-secondary transition-colors duration-300;

    // Colors based on Status
    // Note: Using alpha/opacity for backgrounds to blend nicely
    .nui-accordion--default & {
      @apply border-t-default;
    }

    .nui-accordion--primary & {
      @apply border-t-primary-100 bg-primary-50/30;
      @apply dark:border-t-primary-800 dark:bg-primary-900/10;
    }

    .nui-accordion--success & {
      @apply border-t-success-100 bg-success-50/30;
      @apply dark:border-t-success-800 dark:bg-success-900/10;
    }

    .nui-accordion--warning & {
      @apply border-t-warning-100 bg-warning-50/30;
      @apply dark:border-t-warning-800 dark:bg-warning-900/10;
    }

    .nui-accordion--danger & {
      @apply border-t-danger-100 bg-danger-50/30;
      @apply dark:border-t-danger-800 dark:bg-danger-900/10;
    }

    .nui-accordion--info & {
      @apply border-t-info-100 bg-info-50/30;
      @apply dark:border-t-info-800 dark:bg-info-900/10;
    }

    // Size Adjustments
    .nui-accordion--sm & {
      @apply px-3 py-3 text-sm;
    }

    .nui-accordion--lg & {
      @apply px-6 py-5 text-lg;
    }
  }
}
