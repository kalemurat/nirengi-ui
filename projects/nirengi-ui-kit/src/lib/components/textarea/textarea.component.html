<div class="nui-textarea" [ngClass]="containerClasses()">
  @if (label()) {
    <label class="nui-textarea__label" [for]="textareaId">
      {{ label() }}
    </label>
  }

  <div class="nui-textarea__wrapper">
    @if (icon()) {
      <div class="nui-textarea__icon">
        <nirengi-icon [name]="icon()!" [size]="iconSize()" />
      </div>
    }

    <textarea
      [id]="textareaId"
      [value]="value()"
      [placeholder]="placeholder()"
      [disabled]="isDisabled()"
      [readOnly]="readonly()"
      [rows]="rows()"
      [attr.maxlength]="maxlength() || null"
      class="nui-textarea__input"
      [class.nui-textarea__input--with-icon]="icon()"
      [class.nui-textarea__input--auto-resize]="autoResize()"
      [ngClass]="textareaClasses()"
      (input)="onInput($event)"
      (blur)="markAsTouched()"
    ></textarea>
  </div>

  <div class="nui-textarea__footer">
    @if (hint()) {
      <span class="nui-textarea__hint">{{ hint() }}</span>
    }

    @if (characterCount()) {
      <span class="nui-textarea__count" [class.nui-textarea__count--over-limit]="isOverLimit()">
        {{ characterCount() }}
      </span>
    }
  </div>
</div>
