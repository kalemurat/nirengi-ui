<div class="nui-textbox" [ngClass]="containerClasses()">
  @if (label()) {
    <label class="nui-textbox__label" [for]="inputId">
      {{ label() }}
    </label>
  }

  <div class="nui-textbox__wrapper">
    @if (icon()) {
      <div class="nui-textbox__icon">
        <nui-icon [name]="icon()!" [size]="iconSize()" />
      </div>
    }

    <input
      [id]="inputId"
      [type]="type()"
      [value]="value()"
      [placeholder]="placeholder()"
      [disabled]="isDisabled()"
      [readOnly]="readonly()"
      class="nui-textbox__input"
      [class.nui-textbox__input--with-icon]="icon()"
      [class.nui-textbox__input--clearable]="clearable() && value()"
      [ngClass]="inputClasses()"
      (input)="onInput($event)"
      (blur)="markAsTouched()"
    />

    @if (clearable() && value() && !isDisabled() && !readonly()) {
      <button type="button" class="nui-textbox__clear" (click)="clearValue()" aria-label="Clear input">
        <nui-icon name="X" [size]="iconSize()" />
      </button>
    }
  </div>

  @if (hint()) {
    <span class="nui-textbox__hint">{{ hint() }}</span>
  }
</div>
